<div fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="12px">

  <div>
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <div fxLayout="row" fxLayoutGap="8px">
        <strong>{{ module.name }}</strong> <span>{{ module.type }}</span>
      </div>
      <strong>{{ module.id.split('/').slice(-1) }}</strong>
    </div>
    <p>
      {{ module.description }}
    </p>
  </div>

  <div>
    <h3 class="color-accent">{{ "summary" | translate }}</h3>
    // TODO: manufacturer specific, product brand and name, version, routing info, etc...
    <div>
      // TODO: also implement forms for Associations, Basic, Healing/Routing info, Meter
    </div>
  </div>

  <div>
    <h3 class="color-accent">Implemented command classes</h3>
    <div fxLayout="row wrap" fxLayoutAlign="start center">
      <div *ngFor="let cc of commandClasses" style="padding: 4px">
        <span style="border: solid 1px gray; border-radius: 4px; padding: 2px; margin-right: 3px">{{ cc.id }}</span>
        <small *ngIf="cc.description == null" class="color-warn">missing handler</small>
        <span *ngIf="cc.description">{{ cc.description }}</span>
      </div>
    </div>
  </div>

  <div>
    <h3 class="color-accent" fxLayout="row" fxLayoutAlign="space-between center">
      <span>Configuration parameters</span>
      <mat-progress-spinner mode="indeterminate" diameter="24" *ngIf="isNetworkBusy"></mat-progress-spinner>
    </h3>
    <div *ngFor="let param of configurationParameters" fxLayout="column" fxLayoutAlign="start start" style="margin-left: 8px; margin-right: 8px;" fxLayoutGap="8px">
      <div>
        <div><strong>{{ param.number }}</strong> {{ param.name }}</div>
        <div class="color-primary">{{ param.description }}</div>
      </div>
       <div fxFlexAlign="end" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="12px">
         <mat-icon *ngIf="param.status === 2" color="warn">error</mat-icon>
         <mat-progress-spinner mode="indeterminate" diameter="24" *ngIf="param.status === 1"></mat-progress-spinner>
         <mat-form-field *ngIf="param.type && param.type.id === 'range'">
           <mat-label>Value</mat-label>
           <input matInput placeholder="Parameter value" type="number" (change)="onConfigParameterChange($event, param)"
                  [min]="param.type.values.from" [max]="param.type.values.to"
                  [disabled]="param.status === 1"
                  [errorStateMatcher]="errorMatcher"
                  [(value)]="param.field.value">
           <mat-hint align="end">
             {{ param.type.values.from }} - {{ param.type.values.to }}
             <span *ngIf="param.type.values.unit">({{ param.type.values.unit }})</span>
           </mat-hint>
         </mat-form-field>
         <mat-form-field *ngIf="param.type && param.type.id === 'rangemapped'">
           <mat-label>{{ "value" | translate }}</mat-label>
           <mat-select (selectionChange)="onConfigParameterChange($event, param)" [(value)]="param.field.value" [disabled]="param.status === 1">
             <mat-option *ngFor="let v of param.type.values" [value]="v.from.toString()">
               <strong>{{ v.from }}</strong> {{ v.description }}
             </mat-option>
           </mat-select>
         </mat-form-field>
       </div>
    </div>
    <div>
      // TODO: add form to set a custom parameter by arbitrary id/value
    </div>
  </div>
</div>

<!--
<div>&nbsp;</div><div>&nbsp;</div>

<div *ngFor="let f of module.fields">{{f.key}} <small>{{f.value}}</small></div>
-->
